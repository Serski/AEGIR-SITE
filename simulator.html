<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Outpost Aegir Simulator</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#000000" />
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="gin.css" />
</head>
<body>
  <div id="gin-ui" class="gin-page">
    <header id="gin-top-bar" class="gin-top-bar">
      <div class="gin-top-left">
        <button
          id="gin-menu-button"
          class="gin-menu-button"
          type="button"
          aria-expanded="false"
          aria-controls="gin-main-menu"
        >
          <span class="gin-menu-icon" aria-hidden="true">
            <span></span>
            <span></span>
            <span></span>
          </span>
          <span class="visually-hidden">Toggle navigation menu</span>
        </button>
        <a class="gin-logo-link" href="index.html">
          <img src="favicon/favicon.svg" alt="Outpost Aegir logo" class="gin-logo" />
          <span class="gin-wordmark" aria-label="Outpost Aegir wordmark">OUTPOST AEGIR</span>
        </a>
      </div>
      <div class="gin-top-center">
        <h1 class="gin-page-heading">Battle Simulator</h1>
      </div>
      <div class="gin-top-right" aria-hidden="true"></div>
    </header>

    <nav id="gin-main-menu" class="gin-main-menu" aria-label="Site sections" hidden>
      <a class="gin-main-menu__link" href="index.html">Sector Map</a>
      <a class="gin-main-menu__link" href="lore.html">Lore</a>
      <a class="gin-main-menu__link" href="wiki.html">Wiki</a>
      <a class="gin-main-menu__link" href="interviews.html">Interviews</a>
      <a class="gin-main-menu__link" href="simulator.html" aria-current="page">Simulator</a>
    </nav>

    <main class="gin-page-main simulator-main">
      <section class="simulator-intro" aria-labelledby="simulator-overview">
        <p class="gin-section-header" id="simulator-overview">Training Uplink</p>
        <div class="simulator-intro__content">
          <h2>Aegir Battle Simulator</h2>
          <p>
            Configure opposing fleets, set tactical doctrine, and resolve a three-round engagement that mirrors the Outpost
            Aegir combat cadence. Each round walks through Detection &amp; Initiative, Engagement, and Resolution stages while
            tracking shields, morale, and special orders.
          </p>
        </div>
      </section>

      <section class="simulator-environment" aria-labelledby="simulator-environment-heading">
        <div class="simulator-environment__controls">
          <h3 id="simulator-environment-heading">Battle Theater</h3>
          <label class="simulator-field">
            <span>Theater</span>
            <select id="battle-theater" aria-describedby="theater-help"></select>
          </label>
          <p id="theater-help" class="simulator-help-text"></p>
        </div>
        <div class="simulator-environment__summary" aria-live="polite"></div>
      </section>

      <div class="simulator-grid">
        <section class="fleet-panel" data-side="alpha" aria-labelledby="fleet-alpha-heading">
          <header class="fleet-panel__header">
            <h3 id="fleet-alpha-heading">Fleet Alpha</h3>
            <p class="fleet-panel__role">Attacker / Left Column</p>
          </header>
          <div class="fleet-panel__body">
            <div class="fleet-field-group">
              <label class="simulator-field">
                <span>Commander</span>
                <select data-field="commander"></select>
              </label>
              <label class="simulator-field">
                <span>Formation</span>
                <select data-field="formation"></select>
              </label>
              <label class="simulator-field">
                <span>Tactic</span>
                <select data-field="tactic"></select>
              </label>
            </div>

            <div class="fleet-flags">
              <label class="simulator-checkbox">
                <input type="checkbox" data-field="withdraw-r1" />
                <span>Attempt withdraw after Round 1</span>
              </label>
              <label class="simulator-checkbox">
                <input type="checkbox" data-field="withdraw-r2" />
                <span>Attempt withdraw after Round 2</span>
              </label>
              <label class="simulator-checkbox simulator-checkbox--volley">
                <input type="checkbox" data-field="volley" />
                <span>Use Volley Coordination in Round 1</span>
              </label>
            </div>

            <section class="fleet-classlist" aria-labelledby="fleet-alpha-roster">
              <h4 id="fleet-alpha-roster">Ship Counts</h4>
              <div class="fleet-classlist__grid" data-counts></div>
            </section>

            <section class="fleet-orders" aria-labelledby="fleet-alpha-orders">
              <h4 id="fleet-alpha-orders">Class Orders</h4>
              <p class="simulator-help-text">
                Assign one order per class each round. Orders with cooldowns or follow-up effects are handled automatically.
              </p>
              <div class="fleet-orders__container" data-orders></div>
            </section>
          </div>
          <footer class="fleet-panel__footer" data-status></footer>
        </section>

        <section class="fleet-panel" data-side="beta" aria-labelledby="fleet-beta-heading">
          <header class="fleet-panel__header">
            <h3 id="fleet-beta-heading">Fleet Beta</h3>
            <p class="fleet-panel__role">Defender / Right Column</p>
          </header>
          <div class="fleet-panel__body">
            <div class="fleet-field-group">
              <label class="simulator-field">
                <span>Commander</span>
                <select data-field="commander"></select>
              </label>
              <label class="simulator-field">
                <span>Formation</span>
                <select data-field="formation"></select>
              </label>
              <label class="simulator-field">
                <span>Tactic</span>
                <select data-field="tactic"></select>
              </label>
            </div>

            <div class="fleet-flags">
              <label class="simulator-checkbox">
                <input type="checkbox" data-field="withdraw-r1" />
                <span>Attempt withdraw after Round 1</span>
              </label>
              <label class="simulator-checkbox">
                <input type="checkbox" data-field="withdraw-r2" />
                <span>Attempt withdraw after Round 2</span>
              </label>
              <label class="simulator-checkbox simulator-checkbox--volley">
                <input type="checkbox" data-field="volley" />
                <span>Use Volley Coordination in Round 1</span>
              </label>
            </div>

            <section class="fleet-classlist" aria-labelledby="fleet-beta-roster">
              <h4 id="fleet-beta-roster">Ship Counts</h4>
              <div class="fleet-classlist__grid" data-counts></div>
            </section>

            <section class="fleet-orders" aria-labelledby="fleet-beta-orders">
              <h4 id="fleet-beta-orders">Class Orders</h4>
              <p class="simulator-help-text">
                Assign one order per class each round. Orders with cooldowns or follow-up effects are handled automatically.
              </p>
              <div class="fleet-orders__container" data-orders></div>
            </section>
          </div>
          <footer class="fleet-panel__footer" data-status></footer>
        </section>
      </div>

      <section class="simulator-run" aria-labelledby="simulator-run-heading">
        <h3 id="simulator-run-heading">Engagement Controls</h3>
        <div class="simulator-run__actions">
          <button id="simulate-button" class="gin-button">Run Three-Round Simulation</button>
          <button id="reset-button" class="gin-button gin-button--ghost">Reset Fleets</button>
        </div>
      </section>

      <section class="simulator-results" aria-live="polite" aria-labelledby="simulator-results-heading">
        <h3 id="simulator-results-heading">Battle Log</h3>
        <div class="simulator-results__content" id="simulator-results"></div>
      </section>
    </main>

    <footer class="gin-page-footer">
      Return to the <a href="index.html">Aegir sector map</a> to continue your survey.
    </footer>
  </div>
  <script src="menu.js"></script>
  <script src="simulator.js" type="module"></script>
</body>
</html>
